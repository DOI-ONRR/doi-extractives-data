{% assign all_products = site.data.state_all_production[include.location_id].products %}
{% assign all_products_num = all_products | size %}

{% if all_products_num > 0 %}
  {{ include.location_name }} produced
  <a href="#all-production">{{ all_products | size }} product{{ all_products | size | plural }}</a>
  on all lands and waters in {{ include.year }}.
  {% if include.top %}
    {% assign top_all_products = site.data.top_state_products[include.location_id].all_production[include.year] %}
    {% if top_all_products %}
    These are some of the most notable:
    <ul class="top-products list-bullet">
      {% for product in top_all_products %}
      <li><a href="#all-production-{{ product.product | slugify }}">{{ product.product }}</a>:
        #{{ product.rank }} ({{ product.percent | floor }}%)</li>
      {% if forloop.index == include.top %}{% break %}{% endif %}
      {% endfor %}
    </ul>
    {% endif %}
  {% endif %}
{% else %}
  We have no record of production on all lands and waters in {{ include.location_name }} in {{ include.year }}.
{% endif %}

