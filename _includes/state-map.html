<svg class="states map" viewBox="{{ site.data.viewboxes.all }}">
  {% capture states_svg %}{{ site.baseurl }}/maps/states/all.svg{% endcapture %}
  <use class="states features" xlink:href="{{ states_svg }}#states"></use>
  {% assign keys = include.value %}
  {% for state in include.states %}
  {% assign _state = site.data.states | where: 'id', state[0] | first %}
  {% if include.href %}<a xlink:href="{{ include.href | replace: '%', state[0] }}">{% endif %}
    <use class="state feature" xlink:href="{{ states_svg }}#{{ state[0] }}"
    {% if include.value %}
      {% assign value = state[1] | get: keys %}
      data-value='{{ value | default: 0 | jsonify }}'{% endif %}><title>{{ _state.name }}: {{ value }}</title></use>
  {% if include.href %}</a>{% endif %}
  {% endfor %}
  {% include maps/federal_land_ownership.svg %}
  <use class="states mesh" xlink:href="{{ states_svg }}#states-mesh"></use>
</svg>
